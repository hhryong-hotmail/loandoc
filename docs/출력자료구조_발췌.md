# 출력 자료 구조 발췌

## 1. 신용대출 상품 목록 출력 자료 구조

### 1.1 LoanEstimateResponse 구조체

LoanEstimateResponse {
    banks, Array<BankLoanInfo>, 대출 상품 목록 배열
}

### 1.2 BankLoanInfo 구조체 (신용대출 상품 정보)

BankLoanInfo {
    bankName, String, 은행명
    rank, Integer, 순위 (null 가능)
    estimatedLimit, Double, 예상 한도 (만원 단위)
    estimatedRate, Double, 예상 금리 (%) (null 가능)
    visaType, ValidationResult, 비자 종류 검증 결과
    country, ValidationResult, 국적 검증 결과
    age, ValidationResult, 나이 검증 결과
    visaExpiry, ValidationResult, 비자 만료일 검증 결과
    employmentDate, ValidationResult, 재직일자 검증 결과
    annualIncome, ValidationResult, 연소득 검증 결과
    healthInsurance, ValidationResult, 의료보험 검증 결과 (KB저축은행만 해당, 선택)
    countryDebug, Object, 국적 검증 디버그 정보 (선택)
}

### 1.3 ValidationResult 구조체 (검증 결과)

ValidationResult {
    valid, Boolean, 검증 통과 여부
    error, String, 오류 코드 (검증 통과 시 빈 문자열 "", 검증 실패 시: "E비자종류", "E국가", "E나이", "E비자만료", "E재직일자", "E연소득", "E의료보험", "E국가비자" 등)
}

**비고:**
- 신용대출 상품 목록은 은행별로 조건 검증 결과와 함께 예상 한도 및 금리를 제공
- 각 은행의 검증 결과에 따라 "가능" 또는 "불가" 상태가 결정됨
- 순위는 금리 기준으로 정렬되며, KB저축은행은 고정 1위, 예가람저축은행은 고정 5위
- 예상 한도 계산식: 연소득 × 잔여체류기간 × 가중치 / 10 (최고한도 이내)
- 모든 검증 조건을 통과한 경우에만 대출 가능 상태로 표시됨

---

## 2. 담보대출 상담 요청 목록 출력 자료 구조

### 2.1 LoanDashboardListResponse 구조체

LoanDashboardListResponse {
    ok, Boolean, 요청 성공 여부
    rows, Array<LoanRequestInfo>, 대출 상담 요청 목록 배열
}

### 2.2 LoanRequestInfo 구조체 (담보대출 상담 요청 정보)

LoanRequestInfo {
    req_id, Integer, 요청 ID (기본키)
    req_login, String, 요청자 로그인 ID
    counseler, String, 상담자
    name, String, 요청자 이름
    phone_number, String, 전화번호
    nationality, String, 국적
    req_type, String, 요청 유형 (예: "신용대출", "담보대출" 등)
    title, String, 제목
    content, String, 내용
    created_at, String, 생성일시 (TIMESTAMP 형식)
    updated_at, String, 수정일시 (TIMESTAMP 형식)
}

**비고:**
- 담보대출 상담 요청 목록은 게시판 형태로 관리됨
- 목록은 기본적으로 req_id 기준 내림차순 정렬 (최신순)
- 검색 및 필터링 기능 제공 (제목, 내용, 요청자 ID, 이름으로 검색, 요청 유형으로 필터링)
- 각 요청은 상담사가 후속 조치를 진행할 수 있도록 상세 정보를 포함

---

## 3. 담보대출 상담 요청 상세 출력 자료 구조

### 3.1 LoanDashboardDetailResponse 구조체

LoanDashboardDetailResponse {
    ok, Boolean, 요청 성공 여부
    row, LoanRequestInfo, 대출 상담 요청 상세 정보
}

**비고:**
- 단일 상담 요청의 상세 정보를 조회할 때 사용
- LoanRequestInfo 구조체는 목록 응답과 동일한 구조를 사용

---

## 4. 응답 공통 구조

### 4.1 ErrorResponse 구조체 (오류 응답)

ErrorResponse {
    ok, Boolean, 요청 성공 여부 (항상 false)
    error, String, 오류 메시지
}

**비고:**
- 모든 API는 오류 발생 시 일관된 오류 응답 구조를 사용
- HTTP 상태 코드와 함께 오류 정보를 제공

---

## 참고사항

1. 모든 날짜/시간 필드는 ISO 8601 형식 또는 TIMESTAMP 형식을 따름
2. 검증 결과의 error 필드는 빈 문자열("")이면 검증 통과, 오류 코드가 있으면 검증 실패
3. null 값이 가능한 필드는 선택적 정보를 나타냄
4. 배열 필드는 빈 배열일 수 있음
5. 모든 문자열 필드는 UTF-8 인코딩을 사용
6. 숫자 필드(estimatedLimit, estimatedRate 등)는 소수점 처리 후 반올림된 값으로 제공

