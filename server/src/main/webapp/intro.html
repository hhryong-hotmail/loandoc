<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>LOANDOC - 상품소개</title>
    <style>
        body{font-family:Arial,Helvetica,sans-serif;background:linear-gradient(135deg,#2d6cdf 0%,#00d2ff 100%);margin:0}
    header{background:#2d6cdf;color:#fff;padding:28px 20px;text-align:center}
    main{max-width:none;width:100%;margin:24px 0;background:#f6f6f6;padding:18px 24px;border-radius:8px;box-sizing:border-box}
    nav{display:flex;justify-content:center;gap:10px;padding:12px 8px;background:#f6f6f6;align-items:center;flex-wrap:nowrap;overflow-x:auto;white-space:nowrap}
    .nav-button{background:#FFD400;color:#000;border:none;padding:8px 12px;min-width:100px;height:44px;display:inline-flex;align-items:center;justify-content:center;border-radius:8px;cursor:pointer;text-decoration:none;font-weight:700;font-size:14px;flex:0 0 auto;box-sizing:border-box}
    /* (removed right-align rule so buttons stay adjacent) */
        .hero{background:linear-gradient(90deg,#2d6cdf 0%,#00d2ff 100%);padding:28px;border-radius:8px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,0.06)}
        .title{font-size:1.4rem;font-weight:800;color:#2d6cdf}
    </style>
    <style>
    /* Column based nav (shared) */
    nav.nav-columns{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;padding:10px;background:#f6f6f6;border-radius:10px;align-items:start}
    nav.nav-columns .nav-column{display:flex;flex-direction:column;gap:12px}
    nav.nav-columns .nav-button{background:#FFD400;color:#000;border:none;padding:10px 12px;height:auto;display:block;border-radius:8px;cursor:pointer;text-decoration:none;font-weight:700;font-size:14px;width:100%;box-sizing:border-box;text-align:center}
    nav.nav-columns .nav-column:nth-child(1){padding-right:12px}
    nav.nav-columns .nav-column:nth-child(2){padding:0 12px}
    nav.nav-columns .nav-column:nth-child(3){padding-left:12px}
    nav.nav-columns .nav-column:nth-child(4){padding-left:12px}
    @media (max-width:600px){nav.nav-columns{grid-template-columns:repeat(2,1fr);gap:10px;padding:8px}nav.nav-columns .nav-button{font-size:13px;padding:8px}}
    </style>
</head>
<body>
    <header>
        <h1>외국인 근로자 신용 대출</h1>
        <p>LOANDOC</p>
    </header>
    <nav class="nav-columns" aria-label="주요 네비게이션">
        <div class="nav-column">
            <a class="nav-button" href="home.html">LOANDOC</a>
            <a class="nav-button" href="introCo.html">회사소개</a>
                <a class="nav-button" href="intro.html">상품소개</a>
        </div>
        <div class="nav-column">
            <a class="nav-button" href="login.html">로그인</a>
            <a class="nav-button" href="#" id="nav-logout">로그아웃</a>
        </div>
        <div class="nav-column">
            <a class="nav-button" href="loanAppl.html">대출조회</a>
            <a class="nav-button" href="loanDashboard.html">대출상담요청게시판</a>
        </div>
        <div class="nav-column">
            <a class="nav-button" href="dashboard.html">게시판</a>
            <a class="nav-button" href="customer.html">고객센터</a>
        </div>
    </nav>
    <hr />
    <main>
        <div class="hero">
            <div class="brand">LOANDOC</div>
            <style>
            .brand {
                font-size: 5rem;
                line-height: 1;
                margin: 0 0 18px 0;
                font-weight: 900;
                color: #2d6cdf;
                letter-spacing: 6px;
                text-align: center;
            }
            @media (max-width:600px){
                .brand{font-size:3.2rem;letter-spacing:3px;}
            }
            @media (max-width:420px){
                .brand{font-size:2.4rem;}
            }
            </style>
            <!-- <p class="note">여기에 서비스가 제공하는 대출 상품 및 특징을 간단히 소개하세요.</p> -->
            <section style="margin:32px auto 0 auto;max-width:700px;background:linear-gradient(90deg,#2d6cdf 0%,#00d2ff 100%);border-radius:12px;box-shadow:0 2px 12px rgba(45,108,223,0.07);padding:24px 28px 18px 28px;text-align:left;">
                <style>section ul, section p, section li { color: #fff !important; }</style>
                <p style="font-size:1.08rem;line-height:1.7;color:#222;margin:0 0 12px 0;">
                    LOANDOC은 국내 금융사들이 판매하고 있는 외국인 근로자 전용 신용대출 상품을 중개합니다
                </p>
                <ul style="font-size:1.02rem;line-height:1.7;color:#222;margin:0 0 0 18px;padding:0 0 0 18px;list-style:disc;">
                    <li>대출이 가능한 나라, 비자종류 등 자격 요건은 은행마다 상이하므로 신청 전 확인이 필요합니다</li>
                    <li>한도 및 금리는 은행마다 다르고 신용등급, 체류기간, 연봉 등에 따라 달라질 수 있어 개별 상담이 필요합니다</li>
                    <li>준비서류는 공통으로 외국인등록증을 소지하여야 하며 재직관련, 소득증빙 자료 등이 필요합니다</li>
                </ul>
            </section>
        </div>
    </main>
    <script>
        // 접근 시간 확인 및 자동 로그아웃 처리
        function checkAccessTime() {
            try {
                const loginId = localStorage.getItem('login-id');
                const accessTimeStr = localStorage.getItem('login-access-time');
                
                if (!loginId || !accessTimeStr) {
                    return false;
                }
                
                // 접근 시간 확인 (10분 = 600000 밀리초)
                const accessTime = new Date(accessTimeStr);
                const currentTime = new Date();
                const timeDiff = currentTime.getTime() - accessTime.getTime();
                const tenMinutes = 10 * 60 * 1000; // 10분
                
                if (timeDiff > tenMinutes) {
                    // 10분 이상 경과 시 자동 로그아웃
                    localStorage.removeItem('login-id');
                    localStorage.removeItem('login-access-time');
                    alert('10분 이상 비활성 상태로 인해 자동 로그아웃되었습니다. 다시 로그인해주세요.');
                    window.location.href = 'login.html';
                    return false;
                }
                
                // 접근 시간 업데이트
                localStorage.setItem('login-access-time', new Date().toISOString());
                return true;
            } catch (e) {
                console.error('Access time check error', e);
                return false;
            }
        }

        // 페이지 로드 시 접근 시간 확인
        if(document.readyState === 'complete' || document.readyState === 'interactive'){
            checkAccessTime();
        } else {
            window.addEventListener('DOMContentLoaded', checkAccessTime);
        }

        // 네비게이션 로그아웃 버튼
        const navLogout = document.getElementById('nav-logout');
        if(navLogout){
            navLogout.addEventListener('click', async function(e){
                e.preventDefault();
                try {
                    const response = await fetch('/api/auth/logout', {
                        method: 'POST',
                        credentials: 'include',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 'login-id': null })
                    });
                    const result = await response.json();
                    if (result.ok) {
                        // localStorage에서 login-id와 접근 시간 제거
                        localStorage.removeItem('login-id');
                        localStorage.removeItem('login-access-time');
                        alert('로그아웃이 정상적으로 되었습니다');
                        window.location.href = 'login.html';
                    }
                } catch (err) {
                    console.error('Logout error', err);
                }
            });
        }
    </script>
</body>
</html>
